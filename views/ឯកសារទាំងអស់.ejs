<!DOCTYPE html>
<html lang="en">
    <link rel="stylesheet" href="../public/assets/css/Homepage.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
<head>
    
    <head>
        <title>ឯកសារទាំងអស់</title>
        <link rel="icon" type="image/x-icon" href="../public/assets/img/android-chrome-512x512.png">
    </head>
</head>
<body style="background-color: #efefef;">
    <div>
        <td>
            <div class="header">
                <div id="profile">
                    <form action="/UserProfile"><button id="option_B"></button></form>
                    <div id="panda-box">
                            <h2 id="pf_name">
                                <% if (!username) { %>
                                    User
                                <% } else{ %>
                                    <%=username%>
                                <% } %>  
                            </h2>
                            <img id="panda" src="../assets/img/panda.jpg" alt="" srcset=""> 
                            
                            
                    </div>
                </div>  
                
            </div>

        </td>

    </div>

        <td>
            <div class="background"><br>
                <form action="https://filemanagementsystem-7c8u.onrender.com/all"> <button style="background: none;border-color: #efefef;"><img id="logo" src="../public/assets/img/Moeys.png" alt="" srcset=""> 
                
                          </button> <br><span id="brandName">ប្រព័ន្ធគ្រប់គ្រងឯកសារ</span></form>
                <br><br>
                         

                <button id="click1">ធ្វើបច្ចុប្បន្នភាព</button><form action="https://filemanagementsystem-7c8u.onrender.com/add-product"><button id="click">បញ្ចូលលិខិត</button></form> <br><br><br><br>

                <form class="search" action="search" method="POST" >
                    <input type="text" placeholder="ស្វែងរកឯកសារ....." name="search2">
                    <button type="submit"><i class="fa fa-search"></i></button>
                    </form>

                <% if (username == "admin2021") { %>
                    <form action="https://filemanagementsystem-7c8u.onrender.com/admin-Page"><button type="submit" id="adminBtn">Go to Admin Panel</button></form>
                 <% } %>

                    <br><br>
                <div id="menu-Bar">
                    <div id="menu-Bar">
                         <form action="https://filemanagementsystem-7c8u.onrender.com/all"><button id="special"><u>ឯកសារទាំងអស់</u></button></form> 
                        <form action="https://filemanagementsystem-7c8u.onrender.com/"><button id="special">លិខិតស្នើសុំថវិកាចំណាយ</button></form> 
                        <form action="https://filemanagementsystem-7c8u.onrender.com/InvitaionLetter-page?"><button id="special">លិខិតអញ្ជើញ</button></form>
                        <form action="https://filemanagementsystem-7c8u.onrender.com/BudgetUnit-page"><button id="special">អង្គភាពក្រោមអ.គ.រ.ហ</button></form>
                        <form action="https://filemanagementsystem-7c8u.onrender.com/GeneralAdmin-page"><button id="special">លិខិតរដ្ឋបាលទូទៅ</button></form> 
                        <form action="https://filemanagementsystem-7c8u.onrender.com/ProjectFile-page"><button id="special">ឯកសារគម្រោងដៃគូ</button></form>
                        <form action="https://filemanagementsystem-7c8u.onrender.com/Procurement-page"><button id="special">លទ្ធកម្ម</button></form>
                        <form action="https://filemanagementsystem-7c8u.onrender.com/Composition-page"><button id="special">សមាសភាពឯកឧត្តមអគ្គនាយកអ.គ.រ.ហ</button></form> 
                     </div>

                    </div>
                    <table style="width:100%;border-collapse: collapse;margin-bottom: 10px;border-bottom: 1px solid black;" >
                        <thead>
                            <tr>
                              <th scope="col" style="border:1px solid black; text-align: center;width: 50px;">ល.រ</th>
                              <th scope="col" style="border:1px solid black;text-align: center;width: 50px;">លេខចូល</th>
                              <th scope="col" style="border:1px solid black;text-align: center;width: 50px;">លិខិតលេខ</th>
                              <th scope="col" style="border:1px solid black;text-align: center;width:200px">អង្គភាព</th>
                              <th scope="col" style="border:1px solid black;text-align: center;width:100px">ប្រភេទឯកសារ</th>                             
                              <th scope="col" style="border:1px solid black;text-align: center;width: 250px;">បរិយាយ</th>
                              <th scope="col" style="border:1px solid black;text-align: center;width: 150px;">ចំនួនថវិកា</th>
                              <th scope="col" style="border:1px solid black;text-align: center;width: 450px;">កត់ត្រាឯកសារខុស
                                <table style="width:100%;border-collapse: collapse;">
                                    <tr>
                                        <td style="text-align: center;border-top:1px solid black;border-left:0px;border-bottom:0px;width: 25%;">លើកទី១
                                            <table style="width:100%;border-collapse: collapse;">
                                                <tr>
                                                    <td style="text-align: center;border-top:1px solid black;border-left:0px;border-bottom:0px;width: 20%;">ថ្ងៃចូល</td>
                                                    <td style="text-align: center;border-top:1px solid black;border-right:0px;border-bottom:0px; width: 25%;">ថ្ងៃចេញ</td>
                                                </tr>
                                            </table>  
                                        </td>
                                        <td style="text-align: center;border-top:1px solid black;border-right:0px;border-bottom:0px; width: 20%;">លើកទី២
                                            <table style="width:100%;border-collapse: collapse;">
                                                <tr>
                                                    <td style="text-align: center;border-top:1px solid black;border-left:0px;border-bottom:0px;width: 25%;">ថ្ងៃចូល</td>
                                                    <td style="text-align: center;border-top:1px solid black;border-right:0px;border-bottom:0px; width: 25%;">ថ្ងៃចេញ</td>
                                                </tr>
                                            </table>  
                                        </td>
                                        <td style="text-align: center;border-top:1px solid black;border-right:0px;border-bottom:0px; width: 20%;">លើកទី៣
                                            <table style="width:100%;border-collapse: collapse;">
                                                <tr>
                                                    <td style="text-align: center;border-top:1px solid black;border-left:0px;border-bottom:0px;width: 25%;">ថ្ងៃចូល</td>
                                                    <td style="text-align: center;border-top:1px solid black;border-right:0px;border-bottom:0px; width: 25%;">ថ្ងៃចេញ</td>
                                                </tr>
                                            </table>  
                                        </td>
                                    </tr>
                                </table>
                            </th>
                            <th scope="col" style="border:1px solid black;text-align: center;width: 450px;">ពិនិត្យ និងផ្តល់យោលបល់
                                <table style="width:100%;border-collapse: collapse;">
                                    <tr>
                                        <td style="text-align: center;border-top:1px solid black;border-left:0px;border-bottom:0px;width: 50%;">អ្នកពិនិត្យ និងផ្តល់យោលបល់
                                        </td>
                                        <td style="text-align: center;border-top:1px solid black;border-right:0px;border-bottom:0px; width: 50%;">កាលបរិច្ឆេទចេញ-ចូល
                                            <table style="width:100%;border-collapse: collapse;">
                                                <tr>
                                                    <td style="text-align: center;border-top:1px solid black;border-left:0px;border-bottom:0px;width: 25%;">ថ្ងៃចូល</td>
                                                    <td style="text-align: center;border-top:1px solid black;border-right:0px;border-bottom:0px; width: 25%;">ថ្ងៃចេញ</td>
                                                </tr>
                                            </table>  
                                        </td>
                                    </tr>
                                </table>  
                              </th>
                                             
                              <th scope="col" style="border:1px solid black;text-align: center; width: 150px;">កាលបរិច្ឆេទបញ្ជូនឯកសារ
                                <table style="width:100%;border-collapse: collapse;">
                                    <tr>
                                        <td style="text-align: center;border-top:1px solid black;border-left:0px;border-bottom:0px;width: 50%;vertical-align: bottom;" >ថ្ងៃ/ខែ/ឆ្នាំ</td>
                                        <td style="text-align: center;border-top:1px solid black;border-right:0px;border-bottom:0px; width: 50%;">ម៉ោង</td>
                                    </tr>
                                </table>  
                             </th>
                              <th scope="col" style="border:1px solid black;text-align: center;">តាមដាន</th>
                            </tr>
                        </thead>
                     
    
                        <% var j = 0 %> 
                    <div class="product_section">  
                                    
                        <tbody> 
                                
                         <% for( let i = 0; i < product.length; i++ ) { %>
                                <tr>
                                    <td style="text-align: center;"><%= product[i].ID %></td>
                                    <td style="text-align: center;"><%= product[i].FID %></td>
                                    <td style="text-align: center;"><%= product[i].FNum %></td>
                                    <td style="text-align: center;"><%= product[i].title %> </td>
                                    <td style="text-align: center;"><%= product[i].Filetype %> </td>
                                    <td id="description_Underline">
                                        <form action ="https://filemanagementsystem-7c8u.onrender.com/edit-filepage" method="GET" style="float: right;">
                                            <input type="hidden" name="prodId" value="<%= product[i].id%>">
                                            <button type="submit" style="background: none;border: 0px;font-weight: normal;font-size: medium;float: left;"><%= product[i].description %></button>
                                        </form>
                                    </td> 
                                    <td style="text-align: center;"><%= product[i].price%></td>

                                    <td>
                                        <table style="width:100%;border-collapse: collapse;">
                                            <tr>                                                
                                                   <td style="text-align: center;border-left:0px;border-bottom:0px; border-top:0px;width:16.66%;"><%= product[i].dateChIn1 %> </td>
                                                   <td style="text-align: center;border-right:1px solid black;border-bottom:0px;border-top:0px; width: 16.66%;"><%= product[i].dateChOut1 %></td>
                                                                                                                                                                                                               
                                                   <td style="text-align: center;border-left:0px;border-bottom:0px;border-top:0px;width: 16.66%;"><%= product[i].dateChIn2 %> </td>
                                                   <td style="text-align: center;border-right:1px solid black;border-bottom:0px;border-top:0px; width: 16.66%;"><%= product[i].dateChOut2 %></td>
                                        
                                                   <td style="text-align: center;border-left:0px;border-bottom:0px;border-top:0px;width: 16.66%;"><%= product[i].dateChIn3 %> </td>
                                                   <td style="text-align: center;border-right:0px;border-bottom:0px;border-top:0px; width: 16.66%;"><%= product[i].dateChOut3%></td>
                                                                                                                                                                                                               
                                            </tr>
                                        </table>  
                                    </td>     
                                    <td>
                                        <table style="width:100%;border-collapse: collapse;">
                                                                                          
                                                   <td style="text-align: center;border-left:0px;border-bottom:0px; border-top:0px; width:50%;border-right:0px;"><%= product[i].Author %> </td>                                                                                                                                                                                      
                                            
                                                <td style="text-align: center;border-right:1px solid black;border-bottom:0px;border-top:0px;width:25%"><%= product[i].AuthorChIn %></td>
                                                <td style="text-align: center;border-right:1px solid black;border-bottom:0px;border-top:0px; border-right:0px;width:25%"><%= product[i].AuthorChOut %></td>  
                                            
                                        </table>  
                                    </td>  
                                    <td style="text-align: center;">
                                        <table style="width:100%;border-collapse: collapse;">
                                            <tr>
                                                <td style="text-align: center;border-top:0px;border-left:0px;border-bottom:0px;width: 50%;"><%= product[i].dateSend %></td>
                                                <td style="text-align: center;border-top:0px;border-right:0px;border-bottom:0px; width: 50%;"><%= product[i].time %></td>
                                            </tr>
                                        </table>  
                                    </td>  
                                    <td style="text-align: center;"><%= product[i].etc %> </td>                                        
                                </tr>     
                                <% j++ %>      
                           <% } %>
                        </tbody>    
                        </table>
                        <% if (pages> 0) { %>
                            <div class="pagination">
                            <ul >
                                <% if (current==1) { %>
                                    <li><a><</a></li>
                                    <% } else { %>
                                        <li><a href="/all?page/"><</a></li>
                                        <% } %>
                                            <% var i=(Number(current)> 5 ? Number(current) - 4 : 1) %>
                                                <% if (i !==1) { %>
                                                    <li class="disabled"><a>...</a></li>
                                                    <% } %>ទំព័រ៖ &nbsp;
                                                        <% for (; i <=(Number(current) + 4) && i <=pages; i++) { %>
                                                            <% if (i==current) { %>
                                                                <li id="active"><a style="color: white;font-weight: bold;">
                                                                       <%= i %>
                                                                    </a></li>
                                                                <% } else { %>
                                                                     <li><a href="/all?page=<%= i %>">
                                                                         <%= i %>
                                                                        </a></li>
                                                                    <% } %>
                                                                        <% if (i==Number(current) + 4 && i < pages) { %>
                                                                            <li class="disabled"><a>...</a></li>
                                                                            <% } %>
                                                                                <% } %>
                                                                                    <% if (current==pages) { %>
                                                                                        <li class="disabled"><a>></a>
                                                                                        </li>
                                                                                        <% } else { %>
                                                                                            <li><a
                                                                                                    href="/all?page=<%= pages%>">></a>
                                                                                            </li>
                                                                                            <% } %>
                                </ul>
                            </div>
                            <% } %>
               <% if (j==0) { %>
                        <br>
                        <div id="noproduct" style="margin-bottom: 10px;">
                            មិនមានឯកសារ.
                        </div>
                    <% } %>
                </div>
            </div>
            <h4 style="text-align: center; font-family: Khmer OS Siemreap;">© រក្សាសិទ្ធិគ្រប់យ៉ាងដោយ៖​ អគ្គនាយកដ្ឋានរដ្ឋបាល និងហិរញ្ញវត្ថុ | ឆ្នាំ២០២៤</h2>
        </div>    
    </td>
    
    </body>
    
    </html>
                
